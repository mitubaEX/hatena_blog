# LINE BOTのとりあえずHello Worldまで

## アカウント作成

以下のサイトでLINE@アカウントを作成します．作成するアカウントの種類は，一般アカウントを選択しました．

[LINE@](https://at.line.me/jp/)

アカウントが作成できたら，下のような画面になると思います．



## Messaging API設定

以下の流れでAPI設定を行います．

- 左のメニュー -> アカウント設定 -> Messaging API設定 を選択する．
- リクエスト設定のWebhook送信を利用するにチェックを入れる
- LINE Developersで設定するを選択する．

そうすると以下のような画面になると思います．

## アクセストークンの発行

以下の流れで必要な情報を取得していきます．

- アクセストークンという項目があるので，そこでアクセストークンを発行する．時間を聞かれると思いますが適当で．
- Channel Secretという項目があるので，その値をメモっておく．

## サーバコードの記述

以下のSDKを利用し，サンプルコードもここに書かれているものを利用しました．

[line-bot-sdk-python](https://github.com/line/line-bot-sdk-python/tree/master/examples/flask-echo)

実行方法はREADME.mdを参照してください．

## ngrokの使用

サーバを起動するだけではLINEとの通信ができないので，今回はngrokでローカルのサーバにアクセスする形を取りました．

### インストール

```
brew cask install ngrok
```

### 起動

pythonでサーバを立てている状態で以下のコマンドを実行します．

```
ngrok http 5000
```

後はLINEで自分の作ったbotにメッセージをオウム返ししてくれます．

## 不明点

接続確認を押した場合，replyTokenが0の羅列になっており不正だと起こられる問題がよくわからなかったができた．


## 感想

これから機能を追加していきたいと思う．
